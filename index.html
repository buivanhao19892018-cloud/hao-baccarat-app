<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Bùi Hào — Baccarat ULTRA PRO v4</title>
  <link rel="manifest" href="manifest.webmanifest?v=4" />
  <meta name="theme-color" content="#ffffff"/>
  <link rel="stylesheet" href="styles.css?v=4" />
</head>
<body>
  <header class="top">
    <div class="brand">
      <div class="h1">Bùi Hào — Baccarat</div>
      <div class="badge">ULTRA PRO v4 • WHITE • Mobile</div>
    </div>
    <button class="ghost" id="btnInstall" hidden>+ Cài (PWA)</button>
  </header>

  <main class="wrap">
    <!-- ACTION -->
    <section class="card">
      <div class="grid2">
        <button class="btn b" id="btnB">BANKER WIN</button>
        <button class="btn p" id="btnP">PLAYER WIN</button>
      </div>
      <div class="grid2">
        <button class="btn t" id="btnT">TIE</button>
        <button class="btn u" id="btnUndo">UNDO</button>
      </div>
      <div class="grid2">
        <button class="btn r" id="btnReset">RESET SHOE</button>
        <button class="btn n" id="btnNewShoe">NEW SHOE</button>
      </div>

      <div class="stats4">
        <div class="box"><div class="k">Banker</div><div class="v" id="sB">0</div><div class="s">B thắng</div></div>
        <div class="box"><div class="k">Player</div><div class="v" id="sP">0</div><div class="s">P thắng</div></div>
        <div class="box"><div class="k">Tie</div><div class="v" id="sT">0</div><div class="s">Hòa</div></div>
        <div class="box"><div class="k">Total</div><div class="v" id="sTotal">0</div><div class="s">Ván</div></div>
      </div>
    </section>

    <!-- INPUT DETAILS -->
    <section class="card">
      <div class="row">
        <div class="h2">Nhập chi tiết (tùy chọn)</div>
        <div class="hint">Ghi Pair / Natural / Lá bài để thống kê chính xác hơn.</div>
      </div>

      <div class="chips">
        <label class="chip"><input type="checkbox" id="xBP"> Banker Pair</label>
        <label class="chip"><input type="checkbox" id="xPP"> Player Pair</label>
        <label class="chip"><input type="checkbox" id="xN8"> Natural 8</label>
        <label class="chip"><input type="checkbox" id="xN9"> Natural 9</label>
      </div>

      <div class="grid2">
        <div class="field">
          <div class="lab">Banker cards (vd: 9,0,6)</div>
          <input class="inp" id="inBcards" placeholder="Ví dụ: 9,0 hoặc 9,0,6" inputmode="text" />
        </div>
        <div class="field">
          <div class="lab">Player cards (vd: 8,1,0)</div>
          <input class="inp" id="inPcards" placeholder="Ví dụ: 8,1 hoặc 8,1,0" inputmode="text" />
        </div>
      </div>

      <div class="grid2">
        <button class="btn ok" id="btnAttach">GẮN CHI TIẾT VÀO VÁN MỚI NHẤT</button>
        <button class="btn gray" id="btnClearDetail">XÓA Ô NHẬP</button>
      </div>

      <div class="mini" id="detailNote">Mẹo: nhập lá bài để tự tính điểm & phát hiện Pair/Natural (nếu bạn muốn).</div>
    </section>

    <!-- AI ANALYTICS (NO BETTING PROMISES) -->
    <section class="card">
      <div class="row">
        <div class="h2">AI Analytics Engine</div>
        <div class="hint">Chỉ phân tích dữ liệu (không cam kết dự đoán).</div>
      </div>

      <div class="aiBig" id="aiState">WAIT</div>
      <div class="aiSub" id="aiExplain">Chưa đủ dữ liệu → ưu tiên quan sát.</div>

      <div class="metrics">
        <div class="m"><div class="mk">Bias (Last30)</div><div class="mv" id="mBias">0%</div></div>
        <div class="m"><div class="mk">Noise</div><div class="mv" id="mNoise">0%</div></div>
        <div class="m"><div class="mk">Alt rate</div><div class="mv" id="mAlt">0%</div></div>
      </div>

      <div class="bars">
        <div class="barRow">
          <div class="barLab">Confidence</div>
          <div class="bar"><div class="fill" id="barConf"></div></div>
          <div class="barVal" id="barConfVal">0%</div>
        </div>
        <div class="barRow">
          <div class="barLab">Entropy</div>
          <div class="bar"><div class="fill2" id="barEnt"></div></div>
          <div class="barVal" id="barEntVal">0%</div>
        </div>
      </div>

      <div class="note">
        * “Confidence/Entropy” là chỉ báo nội bộ về độ rõ mẫu trong chuỗi gần đây, **không phải xác suất thắng**.
      </div>
    </section>

    <!-- ROAD -->
    <section class="card">
      <div class="row">
        <div class="h2">Road</div>
        <div class="hint">Bead Road + Big Road (đơn giản, chạy mượt mobile)</div>
      </div>

      <div class="tabs">
        <button class="tab on" data-tab="bead">Bead</button>
        <button class="tab" data-tab="big">Big Road</button>
        <button class="tab" data-tab="list">History</button>
      </div>

      <div class="pane" id="pane-bead"></div>
      <div class="pane hidden" id="pane-big"></div>
      <div class="pane hidden" id="pane-list"></div>
    </section>

    <!-- DATA -->
    <section class="card">
      <div class="row">
        <div class="h2">Dữ liệu</div>
        <div class="hint">Lưu máy • Export/Import • Offline</div>
      </div>

      <div class="grid2">
        <button class="btn gray" id="btnExport">EXPORT JSON</button>
        <label class="btn gray fileBtn">
          IMPORT JSON
          <input type="file" id="fileImport" accept="application/json" />
        </label>
      </div>
      <div class="grid2">
        <button class="btn gray" id="btnCopy">COPY JSON</button>
        <button class="btn gray" id="btnClearAll">CLEAR ALL DATA</button>
      </div>

      <textarea class="ta" id="dump" placeholder="JSON sẽ hiện ở đây khi Export/Copy…"></textarea>
      <div class="foot">© Bùi Hào — ULTRA PRO v4</div>
    </section>
  </main>

  <script src="app.js?v=4"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./sw.js?v=4");
    }
  </script>
</body>
</html>
